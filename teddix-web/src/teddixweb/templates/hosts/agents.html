{% extends 'base.html' %}

{% block title %}Teddix Agents{% endblock %}

{% block content %}
      <h1 class="page-header">Agents</h1>
      <p class="lead">List available agents</p>
      <p>
      <form class="form-inline"  method="get" action="{% url teddixweb.views.agents_view %}">
        {% csrf_token %}
        <div class="form-group" role="form">
          <input type="search" class="form-control" name="search" value="{{ search }}" placeholder="Agent Name">
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
      </form>
      </p>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>#</th>
            <th>Agent Name</th>
            <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for agent in agent_list %}
        <tr>
          <td>{{ agent.id }}</td>
          <td><a href="/agents/{{ agent.id }}">{{ agent.name }}</a></td>
          <td>
            <a href="/agents/{{ agent.id }}/schedule" data-toggle="popover" data-content="Schedule new job"><img src="/static/actions/schedule.png" alt="Schedule"/></a>
            <a href="/agents/{{ agent.id }}/restart" data-toggle="popover" data-content="Restart agent"><img src="/static/actions/restart.png" alt="Restart"/></a>
            <a href="/agents/{{ agent.id }}/edit" data-toggle="popover" data-content="Edit agent"><img src="/static/actions/edit.png" alt="Edit"/></a>
            <a href="/agents/{{ agent.id }}/delete" data-toggle="popover" data-content="Remove agent"><img src="/static/actions/delete.png" alt="Delete"/></a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

{% endblock %}

